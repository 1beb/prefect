import{t as T,A as j,a as q,d as J,u as G,b as I,n as c,c as a,Q as L,r as M,e as h,o as s,f as u,w as i,g as t,h as e,B as W,i as k,j as X,F as C,k as Y,m as b,p as Z,l as $,q as d,s as g,K as ee,R as se,v as V,x as te,y as oe,z as ne,P as le,C as ae,D as ue,E as re}from"./index.51b7df8a.js";import{u as ce}from"./usePageTitle.5f1ff030.js";class ie extends j(q){}const de=T(new ie);const pe={class:"flow-runs__list"},fe={class:"flow-runs__list-controls"},_e=J({__name:"FlowRuns",setup(x){const A=G(),p=I(),R=c(p.flowRuns.getFlowRunsCount,[{}]),S=a(()=>R.executed),B=a(()=>R.response===0),{filter:f,hasFilters:D,startDate:N,endDate:P,name:m,sort:w}=L(),_={interval:3e4},y=c(p.flowRuns.getFlowRunsCount,[f],_),U=a(()=>y.response),E=c(de.getFlowRunHistory,[f],_),H=a(()=>{var o;return(o=E.response)!=null?o:[]}),v=c(p.flowRuns.getFlowRuns,[f],_),F=a(()=>{var o;return(o=v.response)!=null?o:[]}),r=M([]);function z(){A.push(re.flowRuns())}const K=()=>{r.value=[],v.refresh(),y.refresh()};return ce("Flow Runs"),(o,n)=>{const O=h("p-button"),Q=h("p-layout-default");return s(),u(Q,{class:"flow-runs"},{header:i(()=>[t(e(W))]),default:i(()=>[e(S)?(s(),k(C,{key:0},[e(B)?(s(),u(e(X),{key:0})):(s(),k(C,{key:1},[t(e(Y)),e(b).md?(s(),u(e(Z),$({key:0,history:e(H)},{startDate:e(N),endDate:e(P)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),g("div",pe,[g("div",fe,[t(e(ee),{count:e(U),class:"mr-auto"},null,8,["count"]),e(b).md?(s(),u(e(se),{key:0,modelValue:e(m),"onUpdate:modelValue":n[0]||(n[0]=l=>V(m)?m.value=l:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),t(e(te),{modelValue:e(w),"onUpdate:modelValue":n[1]||(n[1]=l=>V(w)?w.value=l:null)},null,8,["modelValue"]),t(e(oe),{selected:r.value,onDelete:K},null,8,["selected"])]),t(e(ne),{selected:r.value,"onUpdate:selected":n[2]||(n[2]=l=>r.value=l),"flow-runs":e(F)},null,8,["selected","flow-runs"]),e(F).length?d("",!0):(s(),u(e(le),{key:0},ae({_:2},[e(D)?{name:"actions",fn:i(()=>[t(O,{size:"sm",secondary:"",onClick:z},{default:i(()=>[ue(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{_e as default};
