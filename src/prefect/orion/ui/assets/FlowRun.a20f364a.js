import{d as I,u as L,r as D,Y as N,c as a,b as P,n as $,H as B,I as O,$ as V,e as w,o,f as u,w as t,h as e,X,g as f,J as Y,q as r,L as d,M as q,N as A,O as E,S as G,m as H,T as J,E as M}from"./index.51b7df8a.js";import{u as Q}from"./usePageTitle.5f1ff030.js";const K=I({__name:"FlowRun",setup(U){const i=L(),c=D("Logs"),p=N("id"),m=a(()=>{const l=["Logs","Task Runs","Subflow Runs","Parameters"];return H.xl||l.push("Details"),l}),_=P(),v=$(_.flowRuns.getFlowRun,[p],{interval:3e4}),s=a(()=>v.response),y=a(()=>{var l;return(l=s.value)==null?void 0:l.deploymentId}),R=B(y);O(p,(l,n)=>{l!==n&&(c.value="Logs")});const k=a(()=>{var l,n;return(n=(l=s.value)==null?void 0:l.parameters)!=null?n:{}}),b=a(()=>{var l,n;return(n=(l=R.value)==null?void 0:l.parameterOpenApiSchema)!=null?n:{}}),g=a(()=>J(k.value,b.value));function h(){i.push(M.flowRuns())}const T=a(()=>{var l;return(l=s.value)==null?void 0:l.stateType});V(T);const F=a(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return Q(F),(l,n)=>{const x=w("p-tabs"),S=w("p-layout-well");return o(),u(S,{class:"flow-run"},{header:t(()=>[e(s)?(o(),u(e(X),{key:0,"flow-run-id":e(s).id,onDelete:h},{actions:t(()=>[f(e(Y),{"flow-run":e(s)},null,8,["flow-run"])]),_:1},8,["flow-run-id"])):r("",!0)]),well:t(()=>[e(s)?(o(),u(e(d),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):r("",!0)]),default:t(()=>[f(x,{selected:c.value,"onUpdate:selected":n[0]||(n[0]=C=>c.value=C),tabs:e(m)},{details:t(()=>[e(s)?(o(),u(e(d),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),logs:t(()=>[e(s)?(o(),u(e(q),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),"task-runs":t(()=>[e(s)?(o(),u(e(A),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),"subflow-runs":t(()=>[e(s)?(o(),u(e(E),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),parameters:t(()=>[f(e(G),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{K as default};
