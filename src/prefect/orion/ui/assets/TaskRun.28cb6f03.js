import{d as h,u as y,Y as x,b as C,c as a,W as c,$ as D,e as i,h as t,o as S,f as N,w as n,g as u,Z as V,_ as p,a0 as $,S as A,q as B,m as F,E as Y}from"./index.51b7df8a.js";import{u as q}from"./usePageTitle.5f1ff030.js";const P=h({__name:"TaskRun",setup(E){const k=y(),l=x("id"),r=C(),d=a(()=>{const s=["Logs","Task Inputs"];return F.xl||s.push("Details"),s}),f=a(()=>l.value?[l.value]:null),R=c(r.taskRuns.getTaskRun,f,{interval:3e4}),e=a(()=>R.response),o=a(()=>{var s;return(s=e.value)==null?void 0:s.flowRunId}),_=a(()=>o.value?[o.value]:null),m=c(r.flowRuns.getFlowRun,_),v=a(()=>{var s;return(s=e.value)!=null&&s.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function w(){m.refresh(),k.push(Y.flowRun(o.value))}const g=a(()=>{var s;return(s=e.value)==null?void 0:s.stateType});D(g);const T=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return q(T),(s,J)=>{const b=i("p-tabs"),I=i("p-layout-well");return t(e)?(S(),N(I,{key:0,class:"task-run"},{header:n(()=>[u(t(V),{"task-run-id":t(e).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(p),{alternate:"","task-run":t(e)},null,8,["task-run"])]),default:n(()=>[u(b,{tabs:t(d)},{details:n(()=>[u(t(p),{"task-run":t(e)},null,8,["task-run"])]),logs:n(()=>[u(t($),{"task-run":t(e)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(A),{value:t(v)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):B("",!0)}}});export{P as default};
